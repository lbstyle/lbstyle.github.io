<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chrome-Style Fake Omnibox</title>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, Roboto, Arial, sans-serif;
    margin: 0;
    padding: 16px;
    background: #fff;
  }

  /* Fake Chrome Omnibox */
  .fake-omnibox {
    display: none;
    align-items: center;
    gap: 10px;
    height: 44px;
    padding: 0 14px;
    margin-bottom: 10px;

    background: #f1f3f4;
    border-radius: 22px;
    border: 1px solid #dadce0;

    box-shadow:
      0 1px 2px rgba(60,64,67,.15),
      0 1px 3px rgba(60,64,67,.1);

    color: #202124;
    font-size: 15px;
  }

  .fake-omnibox.show {
    display: flex;
  }

  .omnibox-icon {
    font-size: 14px;
    color: #5f6368;
    flex-shrink: 0;
  }

  .omnibox-text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: #3c4043;
  }

  button {
    padding: 12px 18px;
    font-size: 16px;
  }

  textarea {
    width: 100%;
    font-size: 18px;
    padding: 10px;
    margin-top: 20px;
    box-sizing: border-box;
  }

  .spacer {
    height: 900px;
  }
</style>
</head>

<body>

<!-- Fake Chrome Omnibox -->
<div class="fake-omnibox" id="fakeOmnibox">
  <span class="omnibox-icon">ðŸ”’</span>
  <span class="omnibox-text">google.com</span>
</div>

<button id="showBtn">Show Keyboard</button>

<textarea id="ta" placeholder="Tap to open keyboardâ€¦"></textarea>

<div class="spacer"></div>

<script>
const fakeOmnibox = document.getElementById('fakeOmnibox');
const ta = document.getElementById('ta');

function getKeyboardHeight() {
  const vv = window.visualViewport;
  if (!vv) return 0;
  return Math.max(0, window.innerHeight - vv.height - vv.offsetTop);
}

function updateOmnibox() {
  const keyboardHeight = getKeyboardHeight();
  keyboardHeight > 0
    ? fakeOmnibox.classList.add('show')
    : fakeOmnibox.classList.remove('show');
}

if ('visualViewport' in window) {
  window.visualViewport.addEventListener('resize', updateOmnibox);
}

document.getElementById('showBtn').onclick = async () => {
  ta.focus();

  try {
    await document.documentElement.requestFullscreen();
  } catch (e) {}

  setTimeout(async () => {
    if (navigator.virtualKeyboard?.show) {
      try { await navigator.virtualKeyboard.show(); } catch (e) {}
    }
    updateOmnibox();
  }, 150);
};
</script>

</body>
</html>
