<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Keyboard Focus POC</title>
<style>
    body { font-family: Arial; padding: 20px; }
    textarea { width: 100%; height: 120px; font-size: 18px; }
</style>
</head>
<body>

<h3>POC</h3>

<button id="openBtn">Open example.com</button>

<br><br>

<textarea id="txt" placeholder="Keyboard should appear here"></textarea>

<script>
let childWindow = null;

document.getElementById("openBtn").onclick = () => {
    // USER GESTURE STARTS HERE
    childWindow = window.open("https://example.com", "_blank");

    // Close tab after 5 seconds
    setTimeout(() => {
        if (childWindow && !childWindow.closed) {
            childWindow.close();
        }

        // Return focus
        const textarea = document.getElementById("txt");
        textarea.focus();

        // Request virtual keyboard (Chromium only)
        if ("virtualKeyboard" in navigator) {
            navigator.virtualKeyboard.show();
        }
    }, 5000);
};
</script>

</body>
</html>
